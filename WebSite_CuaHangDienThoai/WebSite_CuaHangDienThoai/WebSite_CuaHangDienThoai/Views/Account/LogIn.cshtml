@model WebSite_CuaHangDienThoai.Models.tb_Customer
@{
    ViewBag.Title = "Đăng nhập";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<link rel="stylesheet" type="text/css" href="~/Scripts/Client/vendor/animate/animate.css">
<link rel="stylesheet" type="text/css" href="~/Scripts/Client/vendor/css-hamburgers/hamburgers.min.css">
<link rel="stylesheet" type="text/css" href="~/Scripts/Client/vendor/select2/select2.min.css">
<link href="~/Content/Css/Client/LoginClient.css" rel="stylesheet" />

<br />
<br />

<div class="limiter">
    <div class="container-login100">
        <div class="wrap-login100">
            <div class="row">
                <div class="col-5"></div>
            </div>
            <div class="login100-pic js-tilt" data-tilt>
                <img src="~/Uploads/images/SanPham/iphone-15-1-4.jpg" style="width:80%;height:auto" />
            </div>
            @using (Html.BeginForm("Login", "Account", FormMethod.Post, new { onsubmit = "return validateForm();" }))
            {
                @Html.AntiForgeryToken()
                <form class="login100-form validate-form">
                    <span class="login100-form-title">
                        <h2>Đăng nhập</h2>
                    </span>
                    <div>
                        @if (ViewBag.error != null)
                        {
                            <p class="text-danger">
                                @ViewBag.error
                            </p>
                        }
                    </div>
                    <div class="text-danger">
                        @Html.ValidationMessage("", "", new { @class = "text-danger" })
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
                        @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control input100", @placeholder = "Nhập Số Điện Thoại Của Bạn", id = "PhoneNumber" })
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-envelope" aria-hidden="true"></i>
                        </span>
                    </div>

                    <div class="wrap-input100 validate-input" data-validate="Password is required">
                        <input class="input100" type="password" name="Password" placeholder="Password" id="Password">
                        <span toggle="#Password" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                        </span>
                    </div>

                    <div class="container-login100-form-btn">
                        <button class="login100-form-btn" type="submit">
                            ĐĂNG NHẬP
                        </button>
                    </div>

                    <div class="text-center p-t-12">
                        <span class="txt1">
                            Bạn quên mật khẩu ?
                        </span>
                        <a class="txt2" href="/khoi-phuc-mat-khau">
                            Khôi phục
                        </a>
                    </div>

                    <div class="text-center p-t-136">
                        <a class="txt2" href="/dang-ky">
                            Tạo tài khoản
                            <i class="fa fa-long-arrow-right m-l-5" aria-hidden="true"></i>
                        </a>
                    </div>
                </form>
            }
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script>
    function validateForm() {
        var phoneNumber = document.getElementById('PhoneNumber').value.trim();
        var password = document.getElementById('Password').value.trim();

        if (!phoneNumber || !password) {
            Swal.fire({
                icon: "error",
                title: "Lỗi đăng nhập...",
                text: "Vui lòng điền đầy đủ thông tin!",
                timer: 3000,
                showConfirmButton: false
            });
            return false;
        }
        return true;
    }

    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector(".toggle-password").addEventListener("click", function () {
            var passwordInput = document.querySelector("#Password");
            var type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
            passwordInput.setAttribute("type", type);
            this.classList.toggle("fa-eye");
            this.classList.toggle("fa-eye-slash");
        });
    });
</script>
